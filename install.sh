#!/bin/bash

# å®šä¹‰é¢œè‰²
green="\033[1;32m"
yellow="\033[1;33m"
red="\033[1;31m"
blue="\033[1;34m"
orange="\033[38;5;214m"
pink="\033[1;35m"
reset="\033[0m"
light_pink="\033[38;5;218m"

# è¾“å‡ºç¾è§‚çš„æ ‡é¢˜
echo -e "${blue}â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—${reset}"
echo -e "                           ${orange}ğŸ§° è¶…çº§å·¥å…·ç®± ä¸€é”®å®‰è£…è„šæœ¬${reset}"
echo -e "${blue}â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£${reset}"
echo -e "      æœ¬è„šæœ¬å°†æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š"                                                      ${green}ä½œè€…é‚®ç®±:${reset}${light_pink}MAIL@VSWSV.COM${reset}
echo -e "      ${green}1.${reset} æ¸…ç†APTç¼“å­˜å¹¶æ›´æ–°æº"
echo -e "      ${green}2.${reset} å®‰è£…å¿…è¦å·¥å…·ï¼ˆGITå’ŒCURLï¼‰"
echo -e "      ${green}3.${reset} å…‹éš†æˆ–è¦†ç›– GITHUB ä»“åº“åˆ° /root/VPN"
echo -e "      ${green}4.${reset} è®¾ç½® 'vpn' å‘½ä»¤æ¥å¿«é€Ÿå¯åŠ¨èœå•"
echo -e "${blue}â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${reset}"

read -p "$(echo -e ${yellow}æ˜¯å¦ç»§ç»­å®‰è£…ï¼Ÿè¯·è¾“å…¥ [Y/N]ï¼š${reset}) " answer

if [[ "$answer" != "Y" && "$answer" != "y" ]]; then
  echo -e "${red}âŒ ç”¨æˆ·å–æ¶ˆå®‰è£…ï¼Œå·²é€€å‡ºã€‚${reset}"
  exit 1
fi

# æ¸…ç†APTç¼“å­˜å¹¶æ›´æ–°æº
echo -e "${green}ğŸ§¹ æ­£åœ¨æ¸…ç†APTç¼“å­˜${reset}"
sudo apt-get clean

echo -e "${green}ğŸŒ æ­£åœ¨æ›´æ–°APTæº${reset}"
sudo apt-get update --no-cache

# å®‰è£…å¿…è¦å·¥å…·
echo -e "${green}ğŸ”§ æ­£åœ¨å®‰è£…GITå’ŒCURL${reset}"
sudo apt install -y git curl

# æ£€æŸ¥ /root/VPN ç›®å½•æ˜¯å¦å­˜åœ¨
if [ -d "/root/VPN" ]; then
  echo -e "${yellow}âš ï¸ å‘ç°å·²æœ‰ /root/VPN ç›®å½•å­˜åœ¨æ­£åœ¨è¦†ç›–${reset}"
  sudo rm -rf /root/VPN
fi

# å…‹éš†ä»“åº“
echo -e "${green}ğŸ“¥ æ­£åœ¨å…‹éš† GITHUB ä»“åº“...${reset}"
if git clone https://github.com/VSWSV/VPN.git /root/VPN; then
  echo -e "${green}âœ… å…‹éš†æˆåŠŸï¼${reset}"
else
  echo -e "${red}âŒ å…‹éš†å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥æˆ–ä»“åº“åœ°å€ã€‚${reset}"
  exit 1
fi

# è®¾ç½®æƒé™
chmod -R +x /root/VPN


# è®¾ç½®å¿«æ·å‘½ä»¤ vpn
if [ -f "/usr/local/bin/vpn" ]; then
  sudo rm -f /usr/local/bin/vpn
fi

sudo ln -s /root/VPN/menu.sh /usr/local/bin/vpn

# æˆåŠŸæç¤º
echo -e "${blue}â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—${reset}"
echo -e "              ${green}ğŸ‰ å®‰è£…å®Œæˆï¼ç°åœ¨ä½ å¯ä»¥ç›´æ¥è¾“å…¥ ${yellow}vpn${green} æ¥å¯åŠ¨èœå•ï¼${reset}"
echo -e "${blue}â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${reset}"
